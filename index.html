<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Top Shot IQ</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@300;400;500;600&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg:       #06070f;
    --surface:  #0c0e1a;
    --surface2: #111426;
    --border:   rgba(120,130,255,0.1);
    --accent:   #7b6fff;
    --accent-g: rgba(123,111,255,0.22);
    --cyan:     #4fc3f7;
    --violet:   #a855f7;
    --red:      #ef4444;
    --green:    #22c55e;
    --gold:     #f5c842;
    --text:     #eef0ff;
    --text2:    rgba(238,240,255,0.5);
    --muted:    #3d4460;
  }

  * { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
  html { font-size:16px; }
  body {
    background:var(--bg); color:var(--text);
    font-family:'DM Sans',sans-serif;
    min-height:100vh; overflow-x:hidden;
    -webkit-text-size-adjust:100%;
  }
  body::before {
    content:''; position:fixed; inset:0;
    background:
      radial-gradient(ellipse 65% 45% at 50% 0%, rgba(123,111,255,0.1) 0%, transparent 60%),
      radial-gradient(ellipse 35% 35% at 90% 90%, rgba(168,85,247,0.06) 0%, transparent 50%);
    pointer-events:none; z-index:0;
  }

  .wrapper {
    position:relative; z-index:1; min-height:100vh;
    display:flex; flex-direction:column; align-items:center;
    padding: 16px 16px calc(env(safe-area-inset-bottom) + 32px);
    padding-left:  max(16px, env(safe-area-inset-left));
    padding-right: max(16px, env(safe-area-inset-right));
  }

  /* â”€â”€ HEADER â”€â”€ */
  header {
    width:100%; max-width:820px;
    display:flex; align-items:center; justify-content:space-between;
    margin-bottom:20px; padding-bottom:14px;
    border-bottom:1px solid var(--border);
  }
  .logo { display:flex; flex-direction:column; line-height:1; gap:2px; }
  .logo-sup  { font-family:'DM Mono',monospace; font-size:9px; letter-spacing:.28em; color:var(--accent); text-transform:uppercase; }
  .logo-name { font-family:'Bebas Neue',sans-serif; font-size:22px; letter-spacing:.06em; color:var(--text); }
  .logo-sub  { font-family:'DM Mono',monospace; font-size:10px; letter-spacing:.14em; color:rgba(140,150,210,0.75); }

  .hud { display:flex; gap:16px; align-items:center; }
  .hud-item { text-align:center; }
  .hud-label { font-family:'DM Mono',monospace; font-size:8px; letter-spacing:.18em; color:var(--muted); text-transform:uppercase; }
  .hud-val   { font-family:'Bebas Neue',sans-serif; font-size:26px; line-height:1; color:var(--text); }
  .hud-val.accent { color:var(--accent); }
  .streak-hud { display:flex; flex-direction:column; align-items:center; opacity:0; transition:opacity .3s; }
  .streak-hud.visible { opacity:1; }
  .streak-fire { font-family:'Bebas Neue',sans-serif; font-size:26px; line-height:1; color:var(--violet); }

  /* â”€â”€ SCREENS â”€â”€ */
  .screen { display:none; width:100%; max-width:820px; }
  .screen.active { display:flex; flex-direction:column; align-items:center; animation:fadeUp .35s ease; }
  @keyframes fadeUp { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }

  /* â”€â”€ START â”€â”€ */
  .hero-eye {
    font-family:'DM Mono',monospace; font-size:10px; letter-spacing:.26em;
    color:var(--accent); text-transform:uppercase; text-align:center; margin-bottom:10px;
  }
  .hero-title {
    font-family:'Bebas Neue',sans-serif; font-size:clamp(56px,15vw,104px);
    line-height:.88; text-align:center; letter-spacing:.02em; margin-bottom:8px;
  }
  .hero-title .g {
    display:block;
    background:linear-gradient(115deg,var(--cyan) 0%,var(--accent) 55%,var(--violet) 100%);
    -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
  }
  .hero-title .w { display:block; color:var(--text); }
  .hero-sub { color:var(--text2); font-size:14px; text-align:center; max-width:380px; line-height:1.6; margin-bottom:28px; }

  /* â”€â”€ MODE SELECTOR â”€â”€ */
  .mode-grid {
    display:grid; grid-template-columns:1fr 1fr; gap:10px;
    width:100%; max-width:480px; margin-bottom:28px;
  }
  .mode-card {
    background:var(--surface); border:1px solid var(--border);
    border-radius:14px; padding:18px 16px;
    cursor:pointer; transition:all .2s; text-align:left;
    position:relative; overflow:hidden;
  }
  .mode-card:hover { border-color:rgba(120,130,255,0.3); background:var(--surface2); transform:translateY(-2px); box-shadow:0 8px 24px rgba(0,0,0,.3); }
  .mode-card:active { transform:translateY(0); }
  .mode-card::before {
    content:''; position:absolute; top:0; left:0; right:0; height:2px;
    border-radius:14px 14px 0 0;
  }
  .mode-price::before  { background:linear-gradient(90deg,var(--cyan),var(--accent)); }
  .mode-mint::before   { background:linear-gradient(90deg,var(--gold),#f97316); }
  .mode-set::before    { background:linear-gradient(90deg,var(--violet),var(--accent)); }
  .mode-series::before { background:linear-gradient(90deg,var(--green),var(--cyan)); }

  .mode-icon  { font-size:24px; margin-bottom:10px; display:block; }
  .mode-name  { font-family:'Bebas Neue',sans-serif; font-size:20px; letter-spacing:.06em; display:block; margin-bottom:3px; }
  .mode-desc  { font-family:'DM Mono',monospace; font-size:9px; letter-spacing:.08em; color:var(--text2); display:block; line-height:1.5; text-transform:uppercase; }

  /* â”€â”€ BUTTONS â”€â”€ */
  .btn-primary {
    background:linear-gradient(135deg,var(--accent),var(--violet)); color:#fff; border:none; border-radius:10px;
    padding:16px 40px; font-family:'Bebas Neue',sans-serif; font-size:20px;
    letter-spacing:.12em; cursor:pointer; transition:all .2s;
    box-shadow:0 4px 20px rgba(123,111,255,.28);
    min-height:52px; width:100%; max-width:320px;
  }
  .btn-primary:hover  { box-shadow:0 8px 32px rgba(123,111,255,.4); }
  .btn-primary:active { opacity:.85; transform:scale(.98); }
  .btn-share {
    background:linear-gradient(135deg,var(--cyan),var(--accent)); color:#fff; border:none; border-radius:10px;
    padding:14px 24px; font-family:'Bebas Neue',sans-serif; font-size:17px; letter-spacing:.1em;
    cursor:pointer; transition:all .2s; min-height:48px;
  }
  .btn-ghost {
    background:transparent; color:var(--muted); border:1px solid var(--border); border-radius:10px;
    padding:13px 24px; font-family:'DM Sans',sans-serif; font-size:13px;
    cursor:pointer; transition:all .2s; min-height:48px;
  }
  .btn-ghost:active { border-color:rgba(123,111,255,.4); color:var(--text); }

  /* â”€â”€ GAME LAYOUT â”€â”€ */
  .game-layout {
    width:100%; display:flex; flex-direction:column; gap:16px;
  }
  @media(min-width:680px){
    .game-layout { display:grid; grid-template-columns:300px 1fr; gap:24px; align-items:start; }
  }

  /* â”€â”€ MOMENT CARD â”€â”€ */
  .moment-card {
    background:var(--surface); border:1px solid var(--border);
    border-radius:16px; overflow:hidden; display:flex; flex-direction:column;
  }
  .moment-visual {
    width:100%; aspect-ratio:1/1;
    background:var(--surface2);
    display:flex; align-items:center; justify-content:center;
    position:relative; overflow:hidden;
  }
  @media(max-width:679px){ .moment-visual { aspect-ratio:16/9; } }
  .moment-visual img { width:100%; height:100%; object-fit:cover; display:block; }
  .moment-visual-placeholder {
    font-family:'DM Mono',monospace; font-size:10px; letter-spacing:.18em;
    color:var(--muted); text-transform:uppercase; text-align:center; line-height:1.8; padding:16px;
  }

  .moment-info {
    padding:12px 14px 10px; display:flex; flex-direction:column; gap:0;
    border-bottom:1px solid var(--border); order:-1;
  }
  .moment-player { font-family:'Bebas Neue',sans-serif; font-size:22px; letter-spacing:.04em; line-height:1; color:var(--text); margin-bottom:2px; }
  .moment-team   { font-size:12px; color:var(--text2); font-weight:500; letter-spacing:.03em; margin-bottom:7px; }
  .moment-meta-row { display:flex; align-items:center; gap:6px; margin-bottom:6px; flex-wrap:wrap; }
  .moment-scarcity {
    font-family:'DM Mono',monospace; font-size:9px; letter-spacing:.12em;
    text-transform:uppercase; padding:3px 8px; border-radius:4px; font-weight:500;
  }
  .sc-legendary { background:rgba(168,85,247,.85); color:#fff; }
  .sc-rare      { background:rgba(79,195,247,.85);  color:#000; }
  .sc-ultimate  { background:rgba(245,200,66,.85);  color:#000; }
  .sc-common    { background:rgba(255,255,255,.12); color:rgba(255,255,255,.65); }

  .moment-context { display:flex; align-items:center; gap:5px; flex-wrap:wrap; }
  .moment-tag {
    font-family:'DM Mono',monospace; font-size:9px; letter-spacing:.06em;
    color:var(--text2); padding:2px 7px; border-radius:4px;
    background:var(--surface2); border:1px solid var(--border);
  }
  .moment-tag.hidden { display:none; }
  .moment-sep  { color:var(--muted); font-size:10px; }
  .moment-play { font-family:'DM Mono',monospace; font-size:9px; letter-spacing:.06em; color:var(--muted); }

  /* â”€â”€ GAME RIGHT â”€â”€ */
  .game-right { display:flex; flex-direction:column; gap:14px; }
  .round-eye { font-family:'DM Mono',monospace; font-size:9px; letter-spacing:.22em; color:var(--muted); text-transform:uppercase; }
  .question-text { font-family:'Bebas Neue',sans-serif; font-size:22px; line-height:1.1; color:var(--text); }
  .question-text em {
    font-style:normal;
    background:linear-gradient(90deg,var(--cyan),var(--accent));
    -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
  }

  .timer-row { display:flex; align-items:center; gap:10px; }
  .timer-wrap { flex:1; height:4px; background:var(--surface2); border-radius:2px; overflow:hidden; }
  .timer-bar  { height:100%; border-radius:2px; background:linear-gradient(90deg,var(--cyan),var(--accent)); transition:width .1s linear; }
  .timer-bar.urgent { background:linear-gradient(90deg,#ef4444,#f97316); }
  .timer-num  { font-family:'DM Mono',monospace; font-size:13px; color:var(--muted); letter-spacing:.05em; min-width:38px; text-align:right; }
  .timer-num.urgent { color:var(--red); }

  .bonus-flash { height:24px; display:flex; align-items:center; gap:6px; overflow:hidden; }
  .bonus-pill {
    font-family:'DM Mono',monospace; font-size:11px; padding:3px 10px; border-radius:4px;
    letter-spacing:.06em; opacity:0; transform:translateY(4px); transition:opacity .25s,transform .25s;
  }
  .bonus-pill.show { opacity:1; transform:translateY(0); }
  .bonus-pill.speed  { background:rgba(79,195,247,.15); color:var(--cyan); }
  .bonus-pill.streak { background:rgba(168,85,247,.15); color:var(--violet); }

  /* â”€â”€ CHOICES â”€â”€ */
  .choices { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
  .choice-btn {
    background:var(--surface2); border:1px solid var(--border); border-radius:12px;
    padding:16px 10px; min-height:56px;
    cursor:pointer; transition:background .12s, border-color .12s, transform .12s;
    text-align:center; -webkit-tap-highlight-color:transparent;
  }
  .choice-btn:active:not(:disabled) { background:rgba(123,111,255,.12); border-color:var(--accent); transform:scale(.97); }
  @media(hover:hover){
    .choice-btn:hover:not(:disabled) { border-color:var(--accent); background:rgba(123,111,255,.08); transform:translateY(-2px); box-shadow:0 4px 16px var(--accent-g); }
  }
  .choice-btn:disabled { cursor:default; }
  .choice-val   { font-family:'Bebas Neue',sans-serif; font-size:24px; letter-spacing:.04em; color:var(--text); line-height:1; }
  .choice-label { font-family:'DM Mono',monospace; font-size:9px; color:var(--muted); letter-spacing:.12em; text-transform:uppercase; margin-top:3px; }

  /* set name choices â€” smaller font to fit long names */
  .choice-btn.text-choice .choice-val { font-size:14px; font-family:'DM Mono',monospace; letter-spacing:.04em; line-height:1.3; }

  .choice-btn.correct { background:rgba(34,197,94,.1); border-color:var(--green); }
  .choice-btn.correct .choice-val   { color:var(--green); }
  .choice-btn.correct .choice-label { color:rgba(34,197,94,.6); }
  .choice-btn.wrong   { background:rgba(239,68,68,.08); border-color:var(--red); }
  .choice-btn.wrong .choice-val     { color:var(--red); }
  .choice-btn.dimmed  { opacity:.2; }

  /* â”€â”€ FEEDBACK â”€â”€ */
  .feedback { min-height:48px; display:flex; align-items:center; gap:10px; }
  .fb-icon { width:22px; height:22px; border-radius:50%; flex-shrink:0; display:flex; align-items:center; justify-content:center; }
  .fb-icon.ok  { background:var(--green); }
  .fb-icon.err { background:var(--red); }
  .fb-icon.tmo { background:var(--muted); }
  .fb-icon svg { width:12px; height:12px; }
  .fb-text { font-size:13px; line-height:1.5; color:var(--text2); }
  .fb-text strong { display:block; font-size:14px; color:var(--text); margin-bottom:2px; }
  .pts-tag {
    font-family:'DM Mono',monospace; font-size:11px; padding:2px 8px; border-radius:4px;
    background:rgba(123,111,255,.15); color:var(--accent);
    display:inline-block; margin-top:3px; letter-spacing:.05em;
  }

  /* â”€â”€ PROGRESS DOTS â”€â”€ */
  .progress-dots { display:flex; gap:6px; justify-content:center; }
  .dot { width:10px; height:10px; border-radius:50%; background:var(--surface2); border:1px solid var(--border); transition:background .25s,border-color .25s,transform .2s; }
  .dot.current { background:var(--accent); border-color:var(--accent); transform:scale(1.3); }
  .dot.ok  { background:var(--green); border-color:var(--green); }
  .dot.err { background:var(--red);   border-color:var(--red); opacity:.6; }

  /* â”€â”€ RESULTS â”€â”€ */
  .results-wrap { width:100%; max-width:540px; text-align:center; }
  .res-eye { font-family:'DM Mono',monospace; font-size:10px; letter-spacing:.26em; color:var(--muted); text-transform:uppercase; margin-bottom:8px; }
  .res-score {
    font-family:'Bebas Neue',sans-serif; font-size:clamp(64px,18vw,120px); line-height:.88;
    background:linear-gradient(115deg,var(--cyan),var(--accent) 50%,var(--violet));
    -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; margin-bottom:4px;
  }
  .res-pts-label { font-family:'DM Mono',monospace; font-size:10px; letter-spacing:.22em; color:var(--muted); text-transform:uppercase; margin-bottom:20px; }
  .res-grade { font-size:14px; color:var(--text2); margin-bottom:20px; line-height:1.6; }
  .res-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:8px; margin-bottom:16px; }
  @media(min-width:480px){ .res-grid { grid-template-columns:repeat(4,1fr); } }
  .res-cell { background:var(--surface); border:1px solid var(--border); border-radius:10px; padding:14px 8px; text-align:center; }
  .res-cell-val { font-family:'Bebas Neue',sans-serif; font-size:24px; line-height:1; color:var(--text); margin-bottom:4px; }
  .res-cell-lbl { font-family:'DM Mono',monospace; font-size:9px; color:var(--muted); text-transform:uppercase; letter-spacing:.12em; }

  .round-recap { background:var(--surface); border:1px solid var(--border); border-radius:12px; padding:14px 16px; margin-bottom:16px; text-align:left; }
  .recap-title { font-family:'DM Mono',monospace; font-size:9px; letter-spacing:.22em; color:var(--muted); text-transform:uppercase; margin-bottom:10px; }
  .recap-row { display:grid; grid-template-columns:14px 1fr auto auto; align-items:center; gap:8px; padding:8px 0; border-bottom:1px solid rgba(255,255,255,.04); }
  .recap-row:last-child { border-bottom:none; }
  .recap-bullet svg { display:block; }
  .recap-player { font-size:13px; color:var(--text); font-weight:500; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .recap-pts    { font-family:'DM Mono',monospace; font-size:11px; color:var(--accent); letter-spacing:.05em; white-space:nowrap; }
  .recap-pts.zero { color:var(--muted); }

  .share-box { margin-bottom:20px; }
  .share-lbl  { font-family:'DM Mono',monospace; font-size:9px; letter-spacing:.22em; color:var(--muted); text-transform:uppercase; margin-bottom:8px; text-align:left; }
  .share-text {
    font-family:'DM Mono',monospace; font-size:12px; line-height:1.6; color:var(--text);
    background:var(--surface2); border:1px solid var(--border); border-radius:8px;
    padding:12px 14px; cursor:pointer; transition:border-color .2s;
    user-select:all; white-space:pre-wrap; letter-spacing:.03em; text-align:left;
  }
  .share-text:active { border-color:var(--accent); }

  .res-actions { display:flex; flex-direction:column; gap:10px; align-items:stretch; margin:0 auto; width:100%; max-width:320px; }
  @media(min-width:480px){
    .res-actions { flex-direction:row; justify-content:center; max-width:none; }
    .res-actions .btn-primary { width:auto; max-width:none; }
  }

  /* â”€â”€ TOAST â”€â”€ */
  .toast {
    position:fixed; bottom:max(28px, env(safe-area-inset-bottom)); left:50%;
    transform:translateX(-50%) translateY(14px);
    background:var(--green); color:#000; padding:9px 22px; border-radius:8px;
    font-family:'Bebas Neue',sans-serif; font-size:15px; letter-spacing:.1em;
    opacity:0; transition:all .3s; pointer-events:none; z-index:999; white-space:nowrap;
  }
  .toast.show { opacity:1; transform:translateX(-50%) translateY(0); }
  .reveal { animation:revealUp .4s cubic-bezier(.22,1,.36,1); }
  @keyframes revealUp { from{opacity:0;transform:scale(.97) translateY(8px)} to{opacity:1;transform:scale(1) translateY(0)} }
</style>
</head>
<body>
<div class="wrapper">

  <header>
    <div class="logo">
      <span class="logo-name" id="header-name">TOP SHOT IQ</span>
      <span class="logo-sub"  id="header-sub">Market Knowledge</span>
    </div>
    <div class="hud" id="hud" style="display:none">
      <div class="hud-item"><div class="hud-label">Round</div><div class="hud-val" id="hud-round">1/10</div></div>
      <div class="hud-item"><div class="hud-label">Score</div><div class="hud-val accent" id="hud-score">0</div></div>
      <div class="streak-hud" id="streak-hud">
        <div class="hud-label">Streak</div>
        <div class="streak-fire" id="streak-count">Ã—2</div>
      </div>
    </div>
  </header>

  <!-- â”€â”€ START â”€â”€ -->
  <div class="screen active" id="screen-start">
    <div class="hero-title" style="font-size:clamp(56px,15vw,104px);margin-bottom:16px;">
      <span class="g" style="display:inline">TOP SHOT </span><span class="w" style="display:inline">IQ</span>
    </div>
    <p class="hero-sub">Pick a challenge. A Moment appears. You have 10 seconds to answer â€” speed and streaks give bonus points.</p>

    <div class="mode-grid">
      <div class="mode-card mode-price" onclick="startGame('price')">
        <span class="mode-icon">ðŸ’°</span>
        <span class="mode-name">Guess the Price</span>
        <span class="mode-desc">Lowest ask on the market</span>
      </div>
      <div class="mode-card mode-mint" onclick="startGame('mint')">
        <span class="mode-icon">ðŸ”¢</span>
        <span class="mode-name">Guess the Mint</span>
        <span class="mode-desc">Total Moments minted</span>
      </div>
      <div class="mode-card mode-set" onclick="startGame('set')">
        <span class="mode-icon">ðŸŽ´</span>
        <span class="mode-name">Guess the Set</span>
        <span class="mode-desc">Which set is it from?</span>
      </div>
      <div class="mode-card mode-series" onclick="startGame('series')">
        <span class="mode-icon">ðŸ“…</span>
        <span class="mode-name">Guess the Series</span>
        <span class="mode-desc">Which Series is this Moment from?</span>
      </div>
    </div>
  </div>

  <!-- â”€â”€ GAME â”€â”€ -->
  <div class="screen" id="screen-game">
    <div class="progress-dots" id="progress-dots" style="margin-bottom:22px"></div>
    <div class="game-layout" id="game-layout">

      <div class="moment-card">
        <div class="moment-info">
          <div class="moment-player" id="moment-player"></div>
          <div class="moment-team"   id="moment-team"></div>
          <div class="moment-meta-row">
            <span class="moment-scarcity" id="moment-scarcity"></span>
          </div>
          <div class="moment-context">
            <span class="moment-tag" id="moment-set"></span>
            <span class="moment-sep" id="moment-sep-1">Â·</span>
            <span class="moment-tag" id="moment-series"></span>
            <span class="moment-sep" id="moment-sep-2">Â·</span>
            <span class="moment-tag" id="moment-circ"></span>
          </div>
        </div>
        <div class="moment-visual" id="moment-visual">
          <div class="moment-visual-placeholder">TOP SHOT MOMENT</div>
        </div>
      </div>

      <div class="game-right">
        <div>
          <div class="round-eye" id="round-eye">ROUND 1 / 10</div>
          <div class="question-text" id="question-text"></div>
        </div>
        <div>
          <div class="timer-row">
            <div class="timer-wrap"><div class="timer-bar" id="timer-bar" style="width:100%"></div></div>
            <div class="timer-num" id="timer-num">10.0s</div>
          </div>
        </div>
        <div class="bonus-flash">
          <div class="bonus-pill speed"  id="bonus-speed"></div>
          <div class="bonus-pill streak" id="bonus-streak"></div>
        </div>
        <div class="choices" id="choices"></div>
        <div class="feedback" id="feedback"></div>
      </div>
    </div>
  </div>

  <!-- â”€â”€ RESULTS â”€â”€ -->
  <div class="screen" id="screen-results">
    <div class="results-wrap">
      <div class="res-eye">Game Over</div>
      <div class="res-score" id="res-score">0</div>
      <div class="res-pts-label">total points</div>
      <div class="res-grade" id="res-grade"></div>
      <div class="res-grid">
        <div class="res-cell"><div class="res-cell-val" id="r-correct">0</div><div class="res-cell-lbl">Correct</div></div>
        <div class="res-cell"><div class="res-cell-val" id="r-acc">0%</div><div class="res-cell-lbl">Accuracy</div></div>
        <div class="res-cell"><div class="res-cell-val" id="r-best">0</div><div class="res-cell-lbl">Best round</div></div>
        <div class="res-cell"><div class="res-cell-val" id="r-streak">0</div><div class="res-cell-lbl">Best streak</div></div>
      </div>
      <div class="round-recap">
        <div class="recap-title">Round by round</div>
        <div id="recap-rows"></div>
      </div>
      <div class="share-box">
        <div class="share-lbl">Share your results</div>
        <div class="share-text" id="share-text" onclick="copyShare()"></div>
      </div>
      <div class="res-actions">
        <button class="btn-share" onclick="copyShare()">COPY &amp; SHARE</button>
        <button class="btn-primary" id="play-again-btn" onclick="playAgain()">PLAY AGAIN</button>
        <button class="btn-ghost" onclick="goHome()">Home</button>
      </div>
    </div>
  </div>

</div>
<div class="toast" id="toast">Copied to clipboard!</div>

<script>
// â”€â”€â”€ DATASET â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Ã‰ditions Top Shot â€” mis Ã  jour le 23 Feb 2026
// Source: SearchMarketplaceEditions (Volume 24h, Legendary+Rare+Ultimate)

const EDITIONS = [
  // â”€â”€ LEGENDARY
  { player:"Isaiah Collier",          team:"Utah Jazz",              play:"Assist",    set:"Mojo",                 series:8, circ:44,  tier:"legendary", lowAsk:129 , imageUrl:"https://assets.nbatopshot.com/editions/8_mojo_legendary/2b089aed-e64e-4ad9-986b-6f6573ce4b1f/play_2b089aed-e64e-4ad9-986b-6f6573ce4b1f_8_mojo_legendary_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Kevin Durant",            team:"Brooklyn Nets",          play:"Dunk",      set:"Holo Icon",            series:4, circ:45,  tier:"legendary", lowAsk:200,  imageUrl:"https://assets.nbatopshot.com/editions/4_holo_icon_legendary/7241300f-f4e1-4499-b8dd-ee6b871420b6/play_7241300f-f4e1-4499-b8dd-ee6b871420b6_4_holo_icon_legendary_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Tyrese Maxey",            team:"Philadelphia 76ers",     play:"3 Pointer", set:"Holo Icon",            series:8, circ:39,  tier:"legendary", lowAsk:117,  imageUrl:"https://assets.nbatopshot.com/editions/8_holo_icon_legendary/fcd4219b-83d1-40a4-9249-dce651f21367/play_fcd4219b-83d1-40a4-9249-dce651f21367_8_holo_icon_legendary_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Damian Lillard",          team:"Milwaukee Bucks",        play:"Reel",      set:"NBA Cup",              series:7, circ:75,  tier:"legendary", lowAsk:71,   imageUrl:"https://assets.nbatopshot.com/editions/7_nba_cup_anthology/7ff3dec2-972c-4cba-a778-dc1e0e1c090e/play_7ff3dec2-972c-4cba-a778-dc1e0e1c090e_7_nba_cup_anthology_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Klay Thompson",           team:"Dallas Mavericks",       play:"3 Pointer", set:"Mojo",                 series:8, circ:50,  tier:"legendary", lowAsk:600,  imageUrl:"https://assets.nbatopshot.com/editions/8_mojo_legendary/22/40d98672-edc1-449b-bd76-e02782dba450/play_40d98672-edc1-449b-bd76-e02782dba450_8_mojo_legendary_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Jalen Green",             team:"Houston Rockets",        play:"Layup",     set:"Holo Icon",            series:6, circ:50,  tier:"legendary", lowAsk:120,  imageUrl:"https://assets.nbatopshot.com/editions/6_holo_icon_legendary/6f2b66ee-a47f-4440-8f41-e493d708d56d/play_6f2b66ee-a47f-4440-8f41-e493d708d56d_6_holo_icon_legendary_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Julius Randle",           team:"Minnesota Timberwolves", play:"3 Pointer", set:"Holo Icon",            series:8, circ:45,  tier:"legendary", lowAsk:79,   imageUrl:"https://assets.nbatopshot.com/editions/8_holo_icon_legendary/dcbd3465-e113-465a-a058-d79b9db4ad2f/play_dcbd3465-e113-465a-a058-d79b9db4ad2f_8_holo_icon_legendary_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Allan Houston",           team:"New York Knicks",        play:"Jump Shot", set:"Run It Back: Legacies",series:6, circ:75,  tier:"legendary", lowAsk:220,  imageUrl:"https://assets.nbatopshot.com/editions/6_run_it_back_legacies_legendary/c27b413f-5122-4f1b-b0fb-6b22e3da1871/play_c27b413f-5122-4f1b-b0fb-6b22e3da1871_6_run_it_back_legacies_legendary_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Michael Porter Jr.",      team:"Brooklyn Nets",          play:"Layup",     set:"Holo Icon",            series:8, circ:45,  tier:"legendary", lowAsk:85,   imageUrl:"https://assets.nbatopshot.com/editions/8_holo_icon_legendary/f36258ff-f8c9-4760-8ae6-4349e387a1bb/play_f36258ff-f8c9-4760-8ae6-4349e387a1bb_8_holo_icon_legendary_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  // â”€â”€ RARE
  { player:"Michael Porter Jr.",      team:"Brooklyn Nets",          play:"Floater",   set:"Metallic Gold LE",     series:8, circ:199, tier:"rare",      lowAsk:11,   imageUrl:"https://assets.nbatopshot.com/editions/8_metallic_gold_le_rare/c534270c-cad3-4aeb-b2b4-94cbffdf05e0/play_c534270c-cad3-4aeb-b2b4-94cbffdf05e0_8_metallic_gold_le_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Scottie Barnes",          team:"Toronto Raptors",        play:"Assist",    set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:9,    imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/37462d0a-41c8-492c-b800-a35d07ea5b12/play_37462d0a-41c8-492c-b800-a35d07ea5b12_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Ryan Nembhard",           team:"Dallas Mavericks",       play:"Jump Shot", set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:15,   imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/857f6ef1-c139-4ccd-aae0-613343f3421c/play_857f6ef1-c139-4ccd-aae0-613343f3421c_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Stephen Curry",           team:"Golden State Warriors",  play:"Jump Shot", set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:19,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/0079d45a-f2df-479b-9c5f-6d6be13c50ce/play_0079d45a-f2df-479b-9c5f-6d6be13c50ce_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Karl-Anthony Towns",      team:"New York Knicks",        play:"Dunk",      set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:10,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/aab119c8-c7ef-4430-833b-d1ea00080b4b/play_aab119c8-c7ef-4430-833b-d1ea00080b4b_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Donovan Mitchell",        team:"Cleveland Cavaliers",    play:"Dunk",      set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:10,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/e61fdd99-cc30-43ba-8b43-259be5fde4b8/play_e61fdd99-cc30-43ba-8b43-259be5fde4b8_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Hugo GonzÃ¡lez",           team:"Boston Celtics",         play:"Layup",     set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:27,   imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/2a3b5a02-a348-42d7-81e1-039a1c7cc13d/play_2a3b5a02-a348-42d7-81e1-039a1c7cc13d_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Tyrese Maxey",            team:"Philadelphia 76ers",     play:"Block",     set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:12,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/08b89563-d185-470d-b362-290ed8dd1a82/play_08b89563-d185-470d-b362-290ed8dd1a82_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Jalen Duren",             team:"Detroit Pistons",        play:"Dunk",      set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:12,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/6cf34e03-8582-4d7c-abee-0fc5d1165b5b/play_6cf34e03-8582-4d7c-abee-0fc5d1165b5b_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Jaylen Brown",            team:"Boston Celtics",         play:"Dunk",      set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:9,    imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/84255578-48fa-4ec4-92f2-782d0f4356a0/play_84255578-48fa-4ec4-92f2-782d0f4356a0_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Alperen ÅžengÃ¼n",          team:"Houston Rockets",        play:"Assist",    set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:10,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/34d3e21b-ee9a-41be-802a-f5437d70bde5/play_34d3e21b-ee9a-41be-802a-f5437d70bde5_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Will Richard",            team:"Golden State Warriors",  play:"Floater",   set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:22,   imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/64182fee-2d17-4d2e-b944-02e39c4a2d6f/play_64182fee-2d17-4d2e-b944-02e39c4a2d6f_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Luka DonÄiÄ‡",             team:"Los Angeles Lakers",     play:"3 Pointer", set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:18,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/34d33078-d5e2-418f-83e5-73179cfd427a/play_34d33078-d5e2-418f-83e5-73179cfd427a_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"LeBron James",            team:"Los Angeles Lakers",     play:"Dunk",      set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:24,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/b4881bea-cfec-43d1-bc8d-cc43f69fd0b2/play_b4881bea-cfec-43d1-bc8d-cc43f69fd0b2_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Nikola JokiÄ‡",            team:"Denver Nuggets",         play:"Handles",   set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:16,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/da67d8fa-14a4-4146-84c9-c4bdd0d7d51c/play_da67d8fa-14a4-4146-84c9-c4bdd0d7d51c_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Dylan Harper",            team:"San Antonio Spurs",      play:"Dunk",      set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:61,   imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/5b2f02e0-d399-4c52-a0a3-52ec9c912f6e/play_5b2f02e0-d399-4c52-a0a3-52ec9c912f6e_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Alperen ÅžengÃ¼n",          team:"Houston Rockets",        play:"Reel",      set:"Video Game Numbers",   series:6, circ:499, tier:"rare",      lowAsk:20,   imageUrl:"https://assets.nbatopshot.com/editions/6_video_game_numbers_rare/2c72b2c4-8545-4770-a3a8-5c66226cafd0/play_2c72b2c4-8545-4770-a3a8-5c66226cafd0_6_video_game_numbers_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Robert Parish",           team:"Boston Celtics",         play:"Block",     set:"Run It Back 1986-87",  series:5, circ:499, tier:"rare",      lowAsk:22,   imageUrl:"https://assets.nbatopshot.com/editions/5_run_it_back_1986-87_rare/2268959e-aec5-4b78-bf2e-aff384fab0d7/play_2268959e-aec5-4b78-bf2e-aff384fab0d7_5_run_it_back_1986-87_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Jaden McDaniels",         team:"Minnesota Timberwolves", play:"Layup",     set:"Marquee",              series:8, circ:249, tier:"rare",      lowAsk:9,    imageUrl:"https://assets.nbatopshot.com/editions/8_marquee_rare/4c512f91-e36a-49fa-9da7-3e2b38fd25f9/play_4c512f91-e36a-49fa-9da7-3e2b38fd25f9_8_marquee_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Jimmy Butler III",        team:"Golden State Warriors",  play:"Layup",     set:"Metallic Gold LE",     series:8, circ:199, tier:"rare",      lowAsk:9,    imageUrl:"https://assets.nbatopshot.com/editions/8_metallic_gold_le_rare/785eade6-f1e1-427d-bf38-86b8e09e9691/play_785eade6-f1e1-427d-bf38-86b8e09e9691_8_metallic_gold_le_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Chet Holmgren",           team:"Oklahoma City Thunder",  play:"Block",     set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:13,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/38a23a3f-ba50-4213-8d62-042f122c4753/play_38a23a3f-ba50-4213-8d62-042f122c4753_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Giannis Antetokounmpo",   team:"Milwaukee Bucks",        play:"Dunk",      set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:11,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/78e59338-cabf-4411-affd-30826ec017fd/play_78e59338-cabf-4411-affd-30826ec017fd_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Anthony Edwards",         team:"Minnesota Timberwolves", play:"Layup",     set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:13,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/cb012c06-d074-4764-802b-fa2b58f99f4a/play_cb012c06-d074-4764-802b-fa2b58f99f4a_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Kevin Durant",            team:"Houston Rockets",        play:"Dunk",      set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:10,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/ddaa1255-5945-4d23-a93b-0ca3515cb994/play_ddaa1255-5945-4d23-a93b-0ca3515cb994_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Shai Gilgeous-Alexander", team:"Oklahoma City Thunder",  play:"Jump Shot", set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:13,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/e6f64715-49b6-4910-98b2-651c9b1773ce/play_e6f64715-49b6-4910-98b2-651c9b1773ce_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Cedric Coward",           team:"Memphis Grizzlies",      play:"Dunk",      set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:55,   imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/1fe8019b-f729-46bb-8c72-f95ee02564d1/play_1fe8019b-f729-46bb-8c72-f95ee02564d1_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Maxime Raynaud",          team:"Sacramento Kings",       play:"Floater",   set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:42,   imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/32a6fb02-dd73-40a3-908f-e38b6c2f9e40/play_32a6fb02-dd73-40a3-908f-e38b6c2f9e40_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Kobe Sanders",            team:"LA Clippers",            play:"3 Pointer", set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:28,   imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/91f3de4f-f586-4338-95b8-aae4dba3be00/play_91f3de4f-f586-4338-95b8-aae4dba3be00_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Jalen Duren",             team:"Detroit Pistons",        play:"Dunk",      set:"Throwdowns",           series:7, circ:599, tier:"rare",      lowAsk:18,   imageUrl:"https://assets.nbatopshot.com/editions/7_throwdowns_rare/259edf45-8dc9-4dae-bc4b-0f40c2f2cdb6/play_259edf45-8dc9-4dae-bc4b-0f40c2f2cdb6_7_throwdowns_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Egor DÃ«min",              team:"Brooklyn Nets",          play:"Assist",    set:"Origins",              series:8, circ:129, tier:"rare",      lowAsk:24,   imageUrl:"https://assets.nbatopshot.com/editions/8_origins_rare/963fedb1-4721-4d45-86cc-65efdac0e62d/play_963fedb1-4721-4d45-86cc-65efdac0e62d_8_origins_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Nikola JokiÄ‡",            team:"Denver Nuggets",         play:"Assist",    set:"Metallic Gold LE",     series:8, circ:199, tier:"rare",      lowAsk:23,   imageUrl:"https://assets.nbatopshot.com/editions/8_metallic_gold_le_rare/3d166d4c-e0c2-40a7-8edf-57e191aeb8bd/play_3d166d4c-e0c2-40a7-8edf-57e191aeb8bd_8_metallic_gold_le_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Collin Murray-Boyles",    team:"Toronto Raptors",        play:"Block",     set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:27,   imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/321aa45d-e806-4b45-90da-d328b52b9e65/play_321aa45d-e806-4b45-90da-d328b52b9e65_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Drake Powell",            team:"Brooklyn Nets",          play:"Dunk",      set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:28,   imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/8aabdde2-9b79-4f1c-9f93-7cdcdebd0e44/play_8aabdde2-9b79-4f1c-9f93-7cdcdebd0e44_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Danny Wolf",              team:"Brooklyn Nets",          play:"Dunk",      set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:38,   imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/2e3ab77d-3de1-4e97-9edb-a19d27dda2ba/play_2e3ab77d-3de1-4e97-9edb-a19d27dda2ba_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Will Riley",              team:"Washington Wizards",     play:"Assist",    set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:28,   imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/b41cc6d3-3baf-478f-9908-68c55089f997/play_b41cc6d3-3baf-478f-9908-68c55089f997_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Jase Richardson",         team:"Orlando Magic",          play:"Steal",     set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:16,   imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/278a7555-9131-4665-9a43-b41a3a476f60/play_278a7555-9131-4665-9a43-b41a3a476f60_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Keyonte George",          team:"Utah Jazz",              play:"3 Pointer", set:"Equinox",              series:8, circ:249, tier:"rare",      lowAsk:18,   imageUrl:"https://assets.nbatopshot.com/editions/8_equinox_rare/29226703-da35-468f-b692-6f8985f3c512/play_29226703-da35-468f-b692-6f8985f3c512_8_equinox_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Kon Knueppel",            team:"Charlotte Hornets",      play:"3 Pointer", set:"Freshman Gems",        series:8, circ:129, tier:"rare",      lowAsk:141,  imageUrl:"https://assets.nbatopshot.com/editions/8_freshman_gems_rare/f87fd9ff-9107-4213-9a17-40bed3c8dcf9/play_f87fd9ff-9107-4213-9a17-40bed3c8dcf9_8_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Stephon Castle",          team:"San Antonio Spurs",      play:"Assist",    set:"Freshman Gems",        series:7, circ:199, tier:"rare",      lowAsk:195,  imageUrl:"https://assets.nbatopshot.com/editions/7_freshman_gems_rare/73ad3c43-bd12-4bb5-9861-b3c4f0468bc5/play_73ad3c43-bd12-4bb5-9861-b3c4f0468bc5_7_freshman_gems_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Devin Booker",            team:"Phoenix Suns",           play:"Assist",    set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:11,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/d70172af-0f11-4e08-90c3-2a99d29804bd/play_d70172af-0f11-4e08-90c3-2a99d29804bd_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Jalen Brunson",           team:"New York Knicks",        play:"3 Pointer", set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:10,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/5fb060b9-0087-4da5-a8e6-7f7ad73d5d51/play_5fb060b9-0087-4da5-a8e6-7f7ad73d5d51_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Cade Cunningham",         team:"Detroit Pistons",        play:"Layup",     set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:14,   imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/cc53424c-934e-4196-9f53-15a65406cd1e/play_cc53424c-934e-4196-9f53-15a65406cd1e_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
  { player:"Kawhi Leonard",           team:"LA Clippers",            play:"Dunk",      set:"Constellations",       series:8, circ:249, tier:"rare",      lowAsk:9,    imageUrl:"https://assets.nbatopshot.com/editions/8_constellations_rare/1942d89b-3ff1-4912-a38d-37cf0211efe1/play_1942d89b-3ff1-4912-a38d-37cf0211efe1_8_constellations_rare_capture_Hero_2880_2880_Black.jpg?format=webp&quality=80&width=512" },
];

// â”€â”€â”€ CONSTANTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const DURATION    = 10000;
const MAX_PTS     = 1000;
const SPEED_BONUS = 200;
const SPEED_LIMIT = 5000;
const STREAK_MULT = {4:1.5,5:2,6:2,7:2.5,8:2.5,9:3,10:3};

// Real Top Shot mint tiers for distractors
const MINT_TIERS = [25,39,44,45,50,75,99,129,164,199,249,299,499,599,749,999];
const ALL_SERIES = [1,2,3,4,5,6,7,8];

const MODE_LABELS = { price:'Guess the Price', mint:'Guess the Mint', set:'Guess the Set', series:'Guess the Series' };
const MODE_SUBS   = { price:'Lowest Ask', mint:'Mint Count', set:'Set Name', series:'Season' };

// â”€â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const G = { mode:'price', round:0, score:0, streak:0, bestStreak:0, answers:[], deck:[], answered:false, edition:null, timerIv:null, timerStart:0 };

// â”€â”€â”€ UTILS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const shuffle = a => { const b=[...a]; for(let i=b.length-1;i>0;i--){const j=0|Math.random()*(i+1);[b[i],b[j]]=[b[j],b[i]];} return b; };
const $ = id => document.getElementById(id);
function set(id,val,prop='innerHTML'){ const el=$(id); if(el) el[prop]=val; }
function fmt(n){ return n>=1000?'$'+(n/1000).toFixed(1).replace('.0','')+'K':'$'+n; }
function getMult(s){ return s<4?1:(STREAK_MULT[Math.min(s,10)]||3); }
function ptsForTime(e){ const r=Math.max(0,1-e/DURATION); return Math.round(MAX_PTS*r*r); }
function scClass(t){ return ({legendary:'sc-legendary',rare:'sc-rare',ultimate:'sc-ultimate'})[t]||'sc-common'; }
function scLabel(t){ return t.charAt(0).toUpperCase()+t.slice(1); }

function setsByTier(tier){ return [...new Set(EDITIONS.filter(e=>e.tier===tier).map(e=>e.set))]; }

function gradeText(c){
  if(c===10) return "Perfect run! You're a true Top Shot oracle.";
  if(c>=8)   return "Outstanding â€” elite collector knowledge.";
  if(c>=6)   return "Solid. A few Moments caught you off guard.";
  if(c>=4)   return "Getting there â€” the market still has secrets.";
  return "Rough one! Top Shot keeps you humble.";
}

const SVG_OK  = `<svg viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="#fff" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
const SVG_ERR = `<svg viewBox="0 0 12 12" fill="none"><path d="M3 3l6 6M9 3l-6 6" stroke="#fff" stroke-width="1.8" stroke-linecap="round"/></svg>`;
const SVG_TMO = `<svg viewBox="0 0 12 12" fill="none"><circle cx="6" cy="6" r="4.5" stroke="#fff" stroke-width="1.5"/><path d="M6 3.5v3l1.5 1.5" stroke="#fff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
function bulletSVG(ok){ const c=ok?'#22c55e':'#ef4444'; return `<svg width="10" height="10" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5" fill="${c}" opacity="${ok?1:.7}"/></svg>`; }

// â”€â”€â”€ SCREENS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showScreen(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  const el=$(id); if(el) el.classList.add('active');
  const hud=$('hud'); if(hud) hud.style.display=id==='screen-game'?'flex':'none';
}
function goHome(){ stopTimer(); showScreen('screen-start'); }

// â”€â”€â”€ START â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function startGame(mode){
  G.mode = mode;
  G.round=0; G.score=0; G.streak=0; G.bestStreak=0; G.answers=[];
  G.deck = shuffle([...EDITIONS]).slice(0,10);

  // Update header
  set('header-name', 'TOP SHOT IQ', 'textContent');
  set('header-sub', MODE_SUBS[mode], 'textContent');

  buildDots();
  showScreen('screen-game');
  nextRound();
}

function playAgain(){ startGame(G.mode); }

// â”€â”€â”€ PROGRESS DOTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function buildDots(){
  const w=$('progress-dots'); if(!w) return;
  w.innerHTML='';
  for(let i=0;i<10;i++){ const d=document.createElement('div'); d.className='dot'; d.id='dot'+i; w.appendChild(d); }
}
function setDot(i,cls){ const d=$('dot'+i); if(d) d.className='dot'+(cls?' '+cls:''); }

// â”€â”€â”€ ROUND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function nextRound(){
  if(G.round>=10){ showResults(); return; }
  G.answered=false;
  G.edition=G.deck[G.round];
  setDot(G.round,'current');
  updateHUD();
  renderEdition();
  renderQuestion();
  renderChoices();
  clearFeedback();
  clearBonusFlash();
  startTimer();
  const l=$('game-layout');
  if(l){ l.classList.remove('reveal'); void l.offsetWidth; l.classList.add('reveal'); }
}

function renderEdition(){
  const e=G.edition, m=G.mode;

  // Image
  const visual=$('moment-visual');
  if(visual){
    if(e.imageUrl){
      visual.innerHTML=`<img src="${e.imageUrl}" alt="${e.player}" loading="eager" onerror="this.parentNode.innerHTML='<div class=\\'moment-visual-placeholder\\'>Could not load</div>'">`;
    } else {
      visual.innerHTML=`<div class="moment-visual-placeholder">TOP SHOT MOMENT</div>`;
    }
  }

  set('moment-player', e.player,        'textContent');
  set('moment-team',   e.team,          'textContent');
  set('round-eye',    'ROUND '+(G.round+1)+' / 10', 'textContent');

  const sc=$('moment-scarcity');
  if(sc){ sc.className='moment-scarcity '+scClass(e.tier); sc.textContent=scLabel(e.tier); }

  // Show/hide context tags depending on mode (hide the field being guessed)
  const setEl    = $('moment-set');
  const seriesEl = $('moment-series');
  const circEl   = $('moment-circ');
  const sep1     = $('moment-sep-1');
  const sep2     = $('moment-sep-2');

  if(setEl)    { setEl.textContent    = e.set;             setEl.classList.toggle('hidden', m==='set'); }
  if(seriesEl) { seriesEl.textContent = 'Series '+e.series; seriesEl.classList.toggle('hidden', m==='series'); }
  if(circEl)   { circEl.textContent   = '/'+e.circ;        circEl.classList.toggle('hidden', m==='mint'); }
  // separators: hide if adjacent tag hidden
  if(sep1) sep1.style.display = (m==='set' || m==='series') ? 'none' : '';
  if(sep2) sep2.style.display = (m==='series' || m==='mint') ? 'none' : '';
}

function renderQuestion(){
  const questions = {
    price:  'What is the <em>lowest ask</em> for this edition?',
    mint:   'How many editions were <em>minted</em>?',
    set:    'Which <em>set</em> does this Moment belong to?',
    series: 'Which <em>series</em> (season) is this from?',
  };
  set('question-text', questions[G.mode]);
}

// â”€â”€â”€ CHOICE GENERATORS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function correctVal(e, mode){
  if(mode==='price')  return e.lowAsk;
  if(mode==='mint')   return e.circ;
  if(mode==='series') return e.series;
  return e.set;
}

function genChoices(){
  const e=G.edition, m=G.mode, correct=correctVal(e,m);
  let choices=[];

  if(m==='price'){
    const wrong=new Set();
    const mults=shuffle([0.2,0.4,0.6,1.5,2,3,5,8]);
    for(const mult of mults){
      if(wrong.size>=3) break;
      let v=Math.round(correct*mult); if(v<1)v=1;
      if(v===correct||wrong.has(v)) continue;
      wrong.add(v);
    }
    let off=1; while(wrong.size<3){const v=correct+off; if(!wrong.has(v))wrong.add(v); off++;}
    choices=shuffle([correct,...wrong]);

  } else if(m==='mint'){
    const others=MINT_TIERS.filter(t=>t!==correct);
    choices=shuffle([correct,...shuffle(others).slice(0,3)]);

  } else if(m==='set'){
    // Same-tier sets only
    const tierSets=setsByTier(e.tier).filter(s=>s!==correct);
    const wrong=shuffle(tierSets).slice(0,3);
    // Pad with any other set if not enough
    if(wrong.length<3){
      const all=[...new Set(EDITIONS.map(x=>x.set))].filter(s=>s!==correct&&!wrong.includes(s));
      while(wrong.length<3&&all.length) wrong.push(all.shift());
    }
    choices=shuffle([correct,...wrong]);

  } else if(m==='series'){
    const others=ALL_SERIES.filter(s=>s!==correct);
    choices=shuffle([correct,...shuffle(others).slice(0,3)]);
  }

  return { choices, correct };
}

function renderChoices(){
  const {choices,correct}=genChoices();
  const m=G.mode;
  const w=$('choices'); if(!w) return;
  w.innerHTML='';
  choices.forEach(val=>{
    const btn=document.createElement('button');
    btn.className='choice-btn'+(m==='set'?' text-choice':'');
    btn.dataset.val=val;

    let display='';
    if(m==='price')  display=fmt(val);
    else if(m==='mint')   display='/'+val;
    else if(m==='series') display='Series '+val;
    else display=val;

    const label=m==='price'?'LOWEST ASK':m==='mint'?'MINT COUNT':m==='series'?'SEASON':'SET NAME';
    btn.innerHTML=`<div class="choice-val">${display}</div><div class="choice-label">${label}</div>`;
    btn.addEventListener('click',()=>answer(val,correct));
    w.appendChild(btn);
  });
}

// â”€â”€â”€ ANSWER / TIMER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function answer(chosen,correct){
  if(G.answered) return;
  G.answered=true; stopTimer();
  const e=Date.now()-G.timerStart;
  const ok = (String(chosen)===String(correct));
  let basePts=0,speedBonus=0,mult=1,totalPts=0;
  if(ok){
    basePts=ptsForTime(e); speedBonus=e<SPEED_LIMIT?SPEED_BONUS:0;
    G.streak++; if(G.streak>G.bestStreak) G.bestStreak=G.streak;
    mult=getMult(G.streak);
    totalPts=Math.round((basePts+speedBonus)*mult);
  } else { G.streak=0; }
  G.score+=totalPts;
  G.answers.push({correct:ok,basePts,speedBonus,streakMult:mult,totalPts,edition:G.edition});
  highlightChoices(chosen,correct);
  showFeedback(ok?'ok':'wrong',correct,totalPts,speedBonus,mult);
  showBonusFlash(speedBonus>0,mult>1?mult:0,G.streak);
  setDot(G.round,ok?'ok':'err');
  updateHUD(); G.round++;
  setTimeout(nextRound,2200);
}

function startTimer(){
  G.timerStart=Date.now(); clearInterval(G.timerIv);
  const bar=$('timer-bar'), num=$('timer-num');
  if(bar){bar.style.width='100%'; bar.classList.remove('urgent');}
  if(num) num.classList.remove('urgent');
  G.timerIv=setInterval(()=>{
    const e=Date.now()-G.timerStart, r=Math.max(0,1-e/DURATION);
    if(bar){bar.style.width=(r*100)+'%'; if(r<.3)bar.classList.add('urgent');}
    if(num){num.textContent=Math.max(0,(DURATION-e)/1000).toFixed(1)+'s'; if(r<.3)num.classList.add('urgent');}
    if(e>=DURATION&&!G.answered){clearInterval(G.timerIv); timeOut();}
  },50);
}
function stopTimer(){ clearInterval(G.timerIv); }

function timeOut(){
  G.answered=true; G.streak=0;
  const correct=correctVal(G.edition,G.mode);
  highlightChoices(null,correct);
  const m=G.mode;
  let display='';
  if(m==='price')  display=fmt(correct);
  else if(m==='mint')   display='/'+correct;
  else if(m==='series') display='Series '+correct;
  else display=correct;
  const el=$('feedback'); if(!el) return;
  el.innerHTML=`<div class="fb-icon tmo">${SVG_TMO}</div><div class="fb-text"><strong>Time's up!</strong>The answer was <strong>${display}</strong></div>`;
  G.answers.push({correct:false,basePts:0,speedBonus:0,streakMult:1,totalPts:0,edition:G.edition});
  setDot(G.round,'err'); G.round++;
  setTimeout(nextRound,2200);
}

function highlightChoices(chosen,correct){
  document.querySelectorAll('.choice-btn').forEach(btn=>{
    const val=btn.dataset.val;
    btn.disabled=true; btn.classList.remove('correct','wrong','dimmed');
    if(String(val)===String(correct)) btn.classList.add('correct');
    else if(chosen!==null&&String(val)===String(chosen)) btn.classList.add('wrong');
    else btn.classList.add('dimmed');
  });
}

function showFeedback(type,correct,totalPts,speedBonus,mult){
  const el=$('feedback'); if(!el) return;
  const m=G.mode;
  let display='';
  if(m==='price')  display=fmt(correct);
  else if(m==='mint')   display='/'+correct;
  else if(m==='series') display='Series '+correct;
  else display=correct;
  if(type==='ok'){
    let extras='';
    if(speedBonus>0) extras+=` Â· âš¡+${speedBonus}`;
    if(mult>1) extras+=` Â· Ã—${mult}`;
    el.innerHTML=`<div class="fb-icon ok">${SVG_OK}</div><div class="fb-text"><strong>Correct!</strong><span class="pts-tag">+${totalPts} pts<span style="opacity:.6;font-size:10px"> (${display}${extras})</span></span></div>`;
  } else {
    el.innerHTML=`<div class="fb-icon err">${SVG_ERR}</div><div class="fb-text"><strong>Wrong!</strong>The answer was <strong>${display}</strong></div>`;
  }
}

function showBonusFlash(speed,mult,streak){
  const sp=$('bonus-speed'), st=$('bonus-streak');
  if(sp){sp.classList.remove('show');sp.textContent='';}
  if(st){st.classList.remove('show');st.textContent='';}
  if(speed&&sp){ sp.textContent='âš¡ Speed +'+SPEED_BONUS; requestAnimationFrame(()=>sp.classList.add('show')); }
  if(mult>1&&st){
    const lbl=streak>=10?'ðŸ”¥ Perfect Ã—'+mult:'ðŸ”¥ Streak Ã—'+mult;
    st.textContent=lbl; requestAnimationFrame(()=>st.classList.add('show'));
  }
}
function clearBonusFlash(){ [$('bonus-speed'),$('bonus-streak')].forEach(el=>{if(el){el.classList.remove('show');el.textContent='';}}); }
function clearFeedback(){ set('feedback',''); }

function updateHUD(){
  set('hud-round',(G.round+1)+'/10','textContent');
  set('hud-score',G.score.toLocaleString(),'textContent');
  const sh=$('streak-hud');
  if(sh){
    if(G.streak>=4){ sh.classList.add('visible'); set('streak-count','Ã—'+getMult(G.streak),'textContent'); }
    else sh.classList.remove('visible');
  }
}

// â”€â”€â”€ RESULTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showResults(){
  const correct=G.answers.filter(a=>a.correct).length;
  const best=G.answers.length?Math.max(...G.answers.map(a=>a.totalPts)):0;
  set('res-score',G.score.toLocaleString(),'textContent');
  set('res-grade',gradeText(correct),'textContent');
  set('r-correct',correct+'/10','textContent');
  set('r-acc',Math.round(correct/10*100)+'%','textContent');
  set('r-best',best,'textContent');
  set('r-streak',G.bestStreak,'textContent');
  set('play-again-btn','PLAY AGAIN â€” '+MODE_LABELS[G.mode].toUpperCase(),'textContent');

  const recapEl=$('recap-rows');
  if(recapEl){
    recapEl.innerHTML=G.answers.map(a=>{
      const ptsStr=a.correct?'+'+a.totalPts+' pts':'â€”';
      return `<div class="recap-row">
        <span class="recap-bullet">${bulletSVG(a.correct)}</span>
        <span class="recap-player">${a.edition.player}</span>
        <span class="recap-pts${a.correct?'':' zero'}">${ptsStr}</span>
      </div>`;
    }).join('');
  }

  const modeEmoji={price:'ðŸ’°',mint:'ðŸ”¢',set:'ðŸŽ´',series:'ðŸ“…'};
  const dots=G.answers.map(a=>a.correct?'ðŸŸ¢':'ðŸ”´').join('');
  const txt=
    `Top Shot IQ Â· ${MODE_LABELS[G.mode]} ${modeEmoji[G.mode]}\n`+
    dots+'\n'+
    correct+'/10 correct Â· '+G.score.toLocaleString()+' pts\n'+
    'Best streak: '+G.bestStreak+'\n'+
    'topshot-iq.vercel.app';
  set('share-text',txt,'textContent');
  showScreen('screen-results');
}

function copyShare(){
  const el=$('share-text'); if(!el) return;
  const showToast=()=>{ const t=$('toast'); t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),2500); };
  if(navigator.clipboard&&navigator.clipboard.writeText)
    navigator.clipboard.writeText(el.textContent).then(showToast).catch(()=>fallbackCopy(el.textContent,showToast));
  else fallbackCopy(el.textContent,showToast);
}
function fallbackCopy(text,cb){
  const ta=document.createElement('textarea'); ta.value=text;
  ta.style.cssText='position:fixed;top:-9999px;left:-9999px;opacity:0';
  document.body.appendChild(ta); ta.focus(); ta.select();
  try{ document.execCommand('copy'); cb(); }catch(e){}
  document.body.removeChild(ta);
}
</script>
</body>
</html>
